---
title: 'Inject User Data'
description: 'Learn how to pass data to the widget'
---

## Intro

You can pass 2 types of data to Molin:
1. User data (e.g. your customer's email, name, ID, their most recent order, etc) which will be made available in the dashboard (on the Inbox page) for your agents to see.
2. Custom instructions for the AI to follow (these will be used in addition to the instructions configured via our dashboard).

## How to pass data

### Inject directly into the component

If you manually render the custom components `<molin-shop-ai>` or `<molin-shop-ai-chat>`, you can pass in the data as an attribute:

```html
<molin-shop-ai-chat
  x-user-data="{&quot;name&quot;:&quot;John Doe&quot;}"
  x-prompt-ext="Do not use emojis.">
</molin-shop-ai-chat>
```

Alternatively, you can assign data programmatically:

```javascript
const el = document.querySelector('molin-shop-ai-chat');
el.setAttribute('x-user-data', JSON.stringify({ name: 'John Doe' }));
el.setAttribute('x-prompt-ext', 'Do not use emojis.');
```

<Note>
  Both attributes `x-user-data` and `x-prompt-ext` are of type `string`. Please see below the data format section.
</Note>

### Automatic injection

Simply include your data in a `<script>` inside the `<head></head>` section of your website:

```html
<script>
  window.molinSettings = {
    userData: {
      user_id: 'u123',
      name: 'John Doe',
      email: 'john@doe.com',
      created_at: '2021-01-01T00:00:00Z',
      last_order_id: 'o123',
    },
    promptExt: 'Do not use emojis.',
  };
</script>
```

When the widget is loaded, it will automatically pick up the data from `window.molinSettings`.

## Data formats

### User data

You must pass user data as a stringified JSON object. Only primitve types are allowed, no nested objects or arrays.

The user data must satisfy this TypeScript type:

```ts
type XUserData = {
  [x: string]: string | number | boolean | null;
};
```

And this [valibot](https://valibot.dev/) schema:

```js
const xUserDataSchema = v.record(
  v.string(),
  v.union([ v.string(), v.number(), v.boolean(), v.null() ])
);
```

### Custom instructions

You must pass custom instructions as a string, in plain text or markdown.

The minimum length is 1 character and the maximum is 1000 characters.
